(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[240],{yZ2X:function(e,t,r){"use strict";r.r(t);var s=r("rePB"),o=r("7tbW"),n=r.n(o),i=(r("f0Jk"),r("+gav"),r("BzM2")),a=r("fhzG"),c=r.n(a),p=r("q1tI"),l=r.n(p),u=r("/MKj"),d=r("eikI"),h=r("+gt8"),m=r("GDib"),j=r("21f3"),g=r("zqu8"),b=r("/qsH"),f=r("Fd/6"),S=r("XUH+"),y=r("Z6NK"),P=r("bf6c"),O=r("SdBd"),k=r("2oex"),w=r("CWAm"),_=r("ydTQ"),D=r("yy36");function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const A={showModal:r("givd").c,trackSubmit:w.h,trackComplete:w.b},v=c()({displayName:"Projects",mixins:y.a.concat([i.a.connect(_.a)]),getInitialState(){const e={type:"Brief",project:this.props.currentProject},t=_objectSpread(_objectSpread({},this.props.currentProject.projectInformation.components),{},{Brief:e});return this.componentGrid=l.a.createRef(),{wall:null,components:t,progress:this.props.currentProjectProgress}},UNSAFE_componentWillMount(){_.a.setController(this),_.a.setReduxReference(this.props.store),this.adapter=f.a.forProjectsWithComponents(this.state.components),this.adapter.controller=this,h.a.newAdapter(this.adapter)},componentDidMount(){this.updateWorkspace(),this.adapter.trigger("interface:ready"),this.adapter.extendCache()},componentDidUpdate(e,t){!t.workspaceIdle&&this.state.workspaceIdle&&this.props.showModal({type:"IdleWall"})},currentWorkspace(){return this.props.currentProject.projectInformation.workspace},gridSetup(e){0===this.state.progress.status&&void 0!==e.slots[25]&&e.expandSlotInDirection(25,"left")},updateWorkspace(){const e=this.props,t=e.disabled,r=e.isAnonymous;t||r||Object(P.a)({content:this.props.currentProject.projectInformation,isAnonymous:this.props.isAnonymous,userId:d.a.id()}).then((()=>{this.adapter.trigger("godex:ready")})).catch((e=>{0}))},componentsToHide(){return Object.keys(this.state.components).filter((e=>"Brief"!==e&&"WebBrowser"!==e))},revealComponents(){for(const e of this.componentsToHide())this.componentGrid.current.expandSlotByName(e);this.setState({grid:this.state.grid})},wall(){return this.props.isAnonymous?null:this.state.wall||null},initialSavepointSlug(){return`${this.props.currentProject.slug}-initial`},finalSavepointSlug(){return`${this.props.currentProject.slug}-final`},getWorkspaceSetupCommand:()=>null,clearWall(){this.setState({wall:null})},getAssessments(){const e=this.props,t=e.currentProjectProgress;return e.currentProject.projectInformation.self_assessments.map((e=>_objectSpread(_objectSpread({},e),{},{tasks:e.tasks.map((e=>{var r;return _objectSpread(_objectSpread({},e),{},{done:null==t||null===(r=t.checklist)||void 0===r?void 0:r[e.task_key]})}))})))},getTaskStatuses:e=>e.map((({tasks:e})=>e)).reduce(((e,t)=>[...e,...t]),[]).map((e=>!!e.done)),getWalkthroughYouTubeId(){const e=this.props.currentProject.projectInformation;return e?e.video_url:null},render(){const e=this.props,t=e.course,r=e.isContainerless,s=e.programSlug||(t?t.slug:""),o={componentShouldBeDisabled:this.componentShouldBeDisabled,positionCueSignal:this.positionCueSignal},i=this.getAssessments(),a={readonly:!1,fileNavReady:!0,isProject:!0,disableLinting:this.props.isLintingDisabled,assessments:i},c={progress:this.props.currentProjectProgress,wall:this.wall(),contentItemTitle:this.props.currentProject.title,contentParentTitle:t?t.title:"",bugReportData:{course:s,skill:this.props.currentProject.slug}},p=n()([this.props.contentTitle,this.props.currentProject.title]).join(": ");return l.a.createElement(g.a,null,l.a.createElement(S.a,{customHeader:l.a.createElement(j.a,{workspace:this.currentWorkspace(),prerender:this.props.prerender,walkthroughVideoUrl:this.getWalkthroughYouTubeId()}),customFooter:l.a.createElement(b.a,{tasksDoneStatuses:this.getTaskStatuses(i),onProjectComplete:this.props.onProjectComplete,isContainerless:r})},l.a.createElement(m.a,{ref:this.componentGrid,components:this.state.components,adapter:this.adapter,helpers:o,modifiers:a,presenter:c,gridSetup:this.gridSetup,user:{isAnon:!1},contentItemType:"project",title:p})))}});t.default=Object(u.connect)((e=>({isAdmin:Object(D.u)(e),isAnonymous:Object(D.v)(e),isContainerless:Object(O.b)(e),contentTitle:Object(k.i)(e)})),A)(v)}}]);
//# sourceMappingURL=platform-scenes-project-legacy-projects~45f7c4f6.892a78a2b7edcf6df76d.chunk.js.map